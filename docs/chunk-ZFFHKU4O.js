import{a as P,b as E,c as H,d as A,e as F,f as k,g as I,h as $,i as j,j as z,k as L,l as d,m as U}from"./chunk-MWMSDPSQ.js";import{l as O}from"./chunk-CAM7MR37.js";import{Ba as p,Ga as b,Gb as R,Ka as o,La as a,Ma as f,Na as C,Oa as u,S as m,U as h,Va as S,ad as T,db as l,eb as v,fb as y,ib as M,lb as w,mb as x,p as g,qa as r,vb as D,za as s}from"./chunk-K6SHGQTA.js";function N(e,t){e&1&&(o(0,"th",12),l(1,"\xCDndice."),a())}function V(e,t){if(e&1&&(o(0,"td",13),l(1),a()),e&2){let i=t.index;r(),v(i+1)}}function G(e,t){e&1&&(o(0,"th",12),l(1,"Nome"),a())}function J(e,t){if(e&1&&(o(0,"td",13),l(1),a()),e&2){let i=t.$implicit;r(),y(" ",i," ")}}function K(e,t){e&1&&f(0,"tr",14)}function Q(e,t){e&1&&f(0,"tr",15)}function W(e,t){if(e&1&&(o(0,"table",4,5),C(2,6),s(3,N,2,0,"th",7)(4,V,2,1,"td",8),u(),C(5,9),s(6,G,2,0,"th",7)(7,J,2,1,"td",8),u(),s(8,K,1,0,"tr",10)(9,Q,1,0,"tr",11),a()),e&2){let i=S();p("dataSource",i.dataSource),r(8),p("matHeaderRowDef",i.displayedColumns),r(),p("matRowDefColumns",i.displayedColumns)}}var ce=(()=>{let t=class t{constructor(){this.filterAdminService=m(O),this.authService=m(T),this.categoryService=m(U),this.activatedRoute=m(R),this.displayedColumns=["pos","name"],this.dataSource=new d([]),this.categories$=this.activatedRoute.queryParamMap.pipe(g(c=>{let n=c.get("search")??"";return this.categoryService.categories().subscribe({next:_=>{if(n){let q=_.filter(B=>B.toLowerCase().indexOf(n.toLowerCase())>=0);this.dataSource=new d(q);return}this.dataSource=new d(_)}})}))}ngOnInit(){this.filterAdminService.setHasFilter={search:!0,options:!1},this.getUser()}getUser(){this.authService.me().subscribe()}getCategories(){this.categoryService.categories().subscribe({next:c=>{this.dataSource=new d(c)}})}ngOnDestroy(){this.filterAdminService.setHasFilter=null,this.filterAdminService.searchForm.setValue("")}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=h({type:t,selectors:[["ng-component"]],standalone:!0,features:[M],decls:6,vars:3,consts:[[1,"section__page--container"],[1,"section__header"],[1,"section__page--title"],["mat-table","","id","table2","class","mat__table--categories mat-elevation-z8","aria-describedby","Tabela de listagem de categorias",3,"dataSource"],["mat-table","","id","table2","aria-describedby","Tabela de listagem de categorias",1,"mat__table--categories","mat-elevation-z8",3,"dataSource"],["table",""],["matColumnDef","pos"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-row","","class","mat__table--head-tr",4,"matHeaderRowDef"],["mat-row","","class","mat__table--body-tr",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row","",1,"mat__table--head-tr"],["mat-row","",1,"mat__table--body-tr"]],template:function(n,_){n&1&&(o(0,"section",0)(1,"header",1)(2,"h1",2),l(3,"Categorias"),a()(),s(4,W,10,3,"table",3),w(5,"async"),a()),n&2&&(r(4),b(4,x(5,1,_.categories$)?4:-1))},dependencies:[D,L,P,H,I,A,E,$,F,k,j,z],styles:[".section__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.mat__table--categories[_ngcontent-%COMP%]{width:100%}.mat__table--categories[_ngcontent-%COMP%]   .mat__table--head-tr[_ngcontent-%COMP%]{background-color:#eeee}.mat__table--categories[_ngcontent-%COMP%]   .mat__table--body-tr[_ngcontent-%COMP%]   td.mat__td--event-click[_ngcontent-%COMP%]{cursor:pointer}.mat__table--categories[_ngcontent-%COMP%]   .mat__table--body-tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}"]});let e=t;return e})();export{ce as default};
